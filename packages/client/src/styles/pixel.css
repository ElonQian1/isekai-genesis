/* ========================================
   末日生存 - 像素风格 CSS
   ======================================== */

/* CSS 变量 - 像素风格调色板 */
:root {
  /* 主色调 - 复古像素游戏配色 */
  --pixel-bg-dark: #1a1c2c;
  --pixel-bg-medium: #29366f;
  --pixel-bg-light: #3b5dc9;
  
  /* 强调色 */
  --pixel-gold: #f4b41b;
  --pixel-red: #ef4035;
  --pixel-green: #25a65e;
  --pixel-blue: #3b82f6;
  --pixel-purple: #8b5cf6;
  --pixel-cyan: #41a6f6;
  
  /* 中性色 */
  --pixel-white: #f4f4f4;
  --pixel-gray-light: #8b8b8b;
  --pixel-gray: #5a5a5a;
  --pixel-gray-dark: #333333;
  --pixel-black: #0f0f0f;
  
  /* 像素边框颜色 */
  --pixel-border-light: #5a6988;
  --pixel-border-dark: #181425;
  
  /* 字体 */
  --font-pixel: 'Press Start 2P', cursive;
  --font-pixel-cn: 'ZCOOL QingKe HuangYou', 'Press Start 2P', cursive;
  
  /* 像素单位 (用于保持像素感) */
  --pixel-size: 4px;
}

/* 全局样式 */
* {
  box-sizing: border-box;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--pixel-bg-dark);
  color: var(--pixel-white);
  font-family: var(--font-pixel-cn);
  min-height: 100vh;
}

/* 像素边框混合样式 - 经典8位风格 */
.pixel-border {
  border: 4px solid var(--pixel-border-light);
  border-radius: 0;
  box-shadow: 
    inset -4px -4px 0 0 var(--pixel-border-dark),
    inset 4px 4px 0 0 rgba(255,255,255,0.2);
}

.pixel-border-gold {
  border: 4px solid var(--pixel-gold);
  box-shadow: 
    inset -4px -4px 0 0 #b8860b,
    inset 4px 4px 0 0 #ffd700;
}

/* 像素按钮 */
.pixel-btn {
  font-family: var(--font-pixel-cn);
  font-size: 14px;
  padding: 12px 24px;
  background: var(--pixel-blue);
  color: var(--pixel-white);
  border: none;
  cursor: pointer;
  position: relative;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.1s;
  
  /* 像素边框效果 */
  box-shadow: 
    0 4px 0 0 #1e40af,
    0 6px 0 0 var(--pixel-black),
    inset 0 -2px 0 0 rgba(0,0,0,0.3),
    inset 0 2px 0 0 rgba(255,255,255,0.3);
}

.pixel-btn:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 0 0 #1e40af,
    0 8px 0 0 var(--pixel-black),
    inset 0 -2px 0 0 rgba(0,0,0,0.3),
    inset 0 2px 0 0 rgba(255,255,255,0.3);
}

.pixel-btn:active {
  transform: translateY(2px);
  box-shadow: 
    0 2px 0 0 #1e40af,
    0 3px 0 0 var(--pixel-black),
    inset 0 2px 0 0 rgba(0,0,0,0.3);
}

.pixel-btn:disabled {
  background: var(--pixel-gray);
  box-shadow: 
    0 4px 0 0 var(--pixel-gray-dark),
    0 6px 0 0 var(--pixel-black);
  cursor: not-allowed;
  opacity: 0.7;
}

.pixel-btn-gold {
  background: var(--pixel-gold);
  box-shadow: 
    0 4px 0 0 #b8860b,
    0 6px 0 0 var(--pixel-black),
    inset 0 -2px 0 0 rgba(0,0,0,0.3),
    inset 0 2px 0 0 rgba(255,255,255,0.3);
  color: var(--pixel-black);
}

.pixel-btn-red {
  background: var(--pixel-red);
  box-shadow: 
    0 4px 0 0 #b91c1c,
    0 6px 0 0 var(--pixel-black),
    inset 0 -2px 0 0 rgba(0,0,0,0.3),
    inset 0 2px 0 0 rgba(255,255,255,0.3);
}

.pixel-btn-green {
  background: var(--pixel-green);
  box-shadow: 
    0 4px 0 0 #166534,
    0 6px 0 0 var(--pixel-black),
    inset 0 -2px 0 0 rgba(0,0,0,0.3),
    inset 0 2px 0 0 rgba(255,255,255,0.3);
}

/* 像素面板/卡片 */
.pixel-panel {
  background: var(--pixel-bg-medium);
  padding: 16px;
  position: relative;
  
  /* 经典像素边框 */
  border: 4px solid var(--pixel-border-light);
  box-shadow: 
    inset -4px -4px 0 0 var(--pixel-border-dark),
    inset 4px 4px 0 0 rgba(255,255,255,0.1),
    8px 8px 0 0 rgba(0,0,0,0.3);
}

.pixel-panel-dark {
  background: var(--pixel-bg-dark);
}

/* 像素输入框 */
.pixel-input {
  font-family: var(--font-pixel-cn);
  font-size: 14px;
  padding: 12px 16px;
  background: var(--pixel-black);
  color: var(--pixel-white);
  border: 4px solid var(--pixel-border-light);
  outline: none;
  width: 100%;
  
  box-shadow: 
    inset 4px 4px 0 0 rgba(0,0,0,0.5),
    inset -2px -2px 0 0 rgba(255,255,255,0.1);
}

.pixel-input:focus {
  border-color: var(--pixel-cyan);
  box-shadow: 
    inset 4px 4px 0 0 rgba(0,0,0,0.5),
    inset -2px -2px 0 0 rgba(255,255,255,0.1),
    0 0 0 2px var(--pixel-cyan);
}

/* 像素进度条/血条 */
.pixel-bar {
  height: 20px;
  background: var(--pixel-black);
  border: 3px solid var(--pixel-border-light);
  position: relative;
  overflow: hidden;
  box-shadow: inset 2px 2px 0 0 rgba(0,0,0,0.5);
}

.pixel-bar-fill {
  height: 100%;
  transition: width 0.3s steps(10);
  position: relative;
}

.pixel-bar-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: rgba(255,255,255,0.3);
}

.pixel-bar-health .pixel-bar-fill {
  background: var(--pixel-red);
}

.pixel-bar-mana .pixel-bar-fill {
  background: var(--pixel-blue);
}

.pixel-bar-rage .pixel-bar-fill {
  background: var(--pixel-gold);
}

.pixel-bar-text {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-family: var(--font-pixel);
  text-shadow: 1px 1px 0 var(--pixel-black), -1px -1px 0 var(--pixel-black);
  z-index: 1;
}

/* 像素标签 */
.pixel-badge {
  display: inline-block;
  padding: 4px 8px;
  font-family: var(--font-pixel);
  font-size: 8px;
  background: var(--pixel-gray-dark);
  color: var(--pixel-white);
  border: 2px solid var(--pixel-border-light);
  text-transform: uppercase;
}

.pixel-badge-gold {
  background: var(--pixel-gold);
  color: var(--pixel-black);
  border-color: #b8860b;
}

.pixel-badge-red {
  background: var(--pixel-red);
  border-color: #b91c1c;
}

.pixel-badge-green {
  background: var(--pixel-green);
  border-color: #166534;
}

/* 像素文字样式 */
.pixel-title {
  font-family: var(--font-pixel);
  font-size: 24px;
  color: var(--pixel-gold);
  text-shadow: 
    2px 2px 0 var(--pixel-black),
    4px 4px 0 rgba(0,0,0,0.3);
  margin: 0;
  letter-spacing: 2px;
}

.pixel-subtitle {
  font-family: var(--font-pixel-cn);
  font-size: 16px;
  color: var(--pixel-white);
  text-shadow: 2px 2px 0 var(--pixel-black);
}

.pixel-text {
  font-family: var(--font-pixel-cn);
  font-size: 14px;
  line-height: 1.8;
}

.pixel-text-small {
  font-family: var(--font-pixel);
  font-size: 10px;
  letter-spacing: 0.5px;
}

/* 像素动画 */
@keyframes pixel-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes pixel-bounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

@keyframes pixel-blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes pixel-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  75% { transform: translateX(4px); }
}

@keyframes pixel-glow {
  0%, 100% { box-shadow: 0 0 8px var(--pixel-gold); }
  50% { box-shadow: 0 0 16px var(--pixel-gold), 0 0 24px var(--pixel-gold); }
}

.animate-float {
  animation: pixel-float 2s ease-in-out infinite;
}

.animate-bounce {
  animation: pixel-bounce 0.5s ease-in-out infinite;
}

.animate-blink {
  animation: pixel-blink 1s steps(2) infinite;
}

.animate-shake {
  animation: pixel-shake 0.3s ease-in-out;
}

.animate-glow {
  animation: pixel-glow 2s ease-in-out infinite;
}

/* 像素网格背景 */
.pixel-grid-bg {
  background-image: 
    linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: 16px 16px;
}

/* 像素扫描线效果 (CRT风格) */
.pixel-scanlines::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.1) 0px,
    rgba(0, 0, 0, 0.1) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
  z-index: 100;
}

/* 像素化图标占位符 */
.pixel-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: var(--pixel-gray-dark);
  border: 2px solid var(--pixel-border-light);
  font-size: 16px;
}

.pixel-icon-lg {
  width: 64px;
  height: 64px;
  font-size: 32px;
}

/* 像素选择卡片 */
.pixel-select-card {
  background: var(--pixel-bg-dark);
  border: 4px solid var(--pixel-border-light);
  padding: 16px;
  cursor: pointer;
  transition: all 0.1s;
  position: relative;
}

.pixel-select-card:hover {
  border-color: var(--pixel-cyan);
  transform: translateY(-4px);
}

.pixel-select-card.selected {
  border-color: var(--pixel-gold);
  background: var(--pixel-bg-medium);
}

.pixel-select-card.selected::before {
  content: '✓';
  position: absolute;
  top: -12px;
  right: -12px;
  width: 24px;
  height: 24px;
  background: var(--pixel-gold);
  color: var(--pixel-black);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
  border: 2px solid #b8860b;
}

/* 滚动条像素化 */
::-webkit-scrollbar {
  width: 16px;
}

::-webkit-scrollbar-track {
  background: var(--pixel-black);
  border: 2px solid var(--pixel-border-light);
}

::-webkit-scrollbar-thumb {
  background: var(--pixel-gray);
  border: 2px solid var(--pixel-border-light);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--pixel-gray-light);
}

/* 像素对话框 */
.pixel-dialog {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--pixel-bg-medium);
  border: 4px solid var(--pixel-gold);
  padding: 24px;
  z-index: 1000;
  min-width: 300px;
  box-shadow: 
    8px 8px 0 0 rgba(0,0,0,0.5),
    inset -4px -4px 0 0 var(--pixel-border-dark),
    inset 4px 4px 0 0 rgba(255,255,255,0.1);
}

.pixel-dialog-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  z-index: 999;
}

/* 像素工具提示 */
.pixel-tooltip {
  position: relative;
}

.pixel-tooltip::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--pixel-black);
  color: var(--pixel-white);
  padding: 8px 12px;
  font-family: var(--font-pixel-cn);
  font-size: 12px;
  white-space: nowrap;
  border: 2px solid var(--pixel-border-light);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
  z-index: 100;
}

.pixel-tooltip:hover::after {
  opacity: 1;
}

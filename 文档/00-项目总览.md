# 📋 项目总览 - AI 代理必读

> ⚠️ **每个 AI 代理开始工作前必须阅读此文件**

---

## 🎯 项目目标

构建**精美 3D 网页卡牌游戏**，技术栈：Rust + WebGPU + TypeScript

---

## 📁 核心目录映射

| 目录 | 内容 | 语言 | 详细文档 |
|------|------|------|----------|
| `crates/game-core/` | 共享游戏核心 | Rust | [01-game-core.md](./01-game-core.md) |
| `crates/game-wasm/` | WASM 绑定层 | Rust | [02-game-wasm.md](./02-game-wasm.md) |
| `crates/game-server/` | 后端服务器 | Rust | [03-game-server.md](./03-game-server.md) |
| `client/` | 前端渲染 | TypeScript | [04-client.md](./04-client.md) |

---

## 🏷️ 命名前缀系统

**为避免 AI 混淆，所有模块使用唯一前缀**

| 模块 | 前缀 | 示例 |
|------|------|------|
| 共享核心 | `gc_` (game-core) | `gc_player.rs`, `GcPlayer` |
| WASM 绑定 | `gw_` (game-wasm) | `gw_bridge.rs`, `GwBridge` |
| 后端服务 | `gs_` (game-server) | `gs_room.rs`, `GsRoomManager` |
| 前端渲染 | `cl_` (client) | `cl_scene.ts`, `ClBattleScene` |

---

## 📊 模块职责边界

```
┌─────────────────────────────────────────────────────────────┐
│ game-core (gc_)                                             │
│ 职责: 纯逻辑，无 IO，无网络，无渲染                           │
│ 可以: 定义类型、计算伤害、验证规则                            │
│ 不可: 读写文件、网络请求、调用浏览器 API                      │
└─────────────────────────────────────────────────────────────┘
                              ↓ 被引用
┌──────────────────────────────┬──────────────────────────────┐
│ game-wasm (gw_)              │ game-server (gs_)            │
│ 职责: 导出给 JS 调用          │ 职责: 多人游戏后端            │
│ 可以: wasm-bindgen 绑定      │ 可以: 网络、数据库、房间管理   │
│ 不可: 网络请求、渲染          │ 不可: 渲染、浏览器 API        │
└──────────────────────────────┴──────────────────────────────┘
                              ↓ 被调用
┌─────────────────────────────────────────────────────────────┐
│ client (cl_)                                                │
│ 职责: 3D 渲染、用户交互、调用 WASM                           │
│ 可以: Babylon.js、WebGPU、DOM 操作                          │
│ 不可: 直接实现游戏逻辑 (应调用 WASM)                         │
└─────────────────────────────────────────────────────────────┘
```

---

## ⚠️ AI 代理工作规则

1. **修改前确认模块** - 先确定要改的是哪个模块 (gc/gw/gs/cl)
2. **阅读模块文档** - 查看对应的 `0X-模块名.md`
3. **遵守命名前缀** - 所有新文件/类型必须使用对应前缀
4. **不跨模块改动** - 一次只改一个模块，除非明确需要

---

## 🔗 快速链接

- [命名规范详情](./05-命名规范.md)
- [API 接口定义](./06-API接口.md)
- [数据流转图](./07-数据流转.md)

# =============================================================================
# ğŸ¦€ Rust Workspace æ ¹é…ç½®
# =============================================================================
# é¡¹ç›®: ç²¾ç¾ 3D ç½‘é¡µå¡ç‰Œæ¸¸æˆ
# æ–‡æ¡£: æ–‡æ¡£/00-é¡¹ç›®æ€»è§ˆ.md
# =============================================================================

[workspace]
resolver = "2"
members = [
    "crates/game-core",
    "crates/game-wasm",
    "crates/game-server",
]

# å…±äº«çš„ä¾èµ–ç‰ˆæœ¬
[workspace.dependencies]
# åºåˆ—åŒ–
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# éšæœºæ•°
rand = "0.8"

# UUID (æ·»åŠ  js feature æ”¯æŒ WASM)
uuid = { version = "1.0", features = ["v4", "serde", "js"] }

# é”™è¯¯å¤„ç†
thiserror = "1.0"
anyhow = "1.0"

# æ—¥å¿—
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }

# å¼‚æ­¥è¿è¡Œæ—¶ (ä»… server)
tokio = { version = "1.0", features = ["full"] }

# Web æ¡†æ¶ (ä»… server)
axum = { version = "0.7", features = ["ws"] }
tower = "0.4"
tower-http = { version = "0.5", features = ["cors", "trace"] }

# WebSocket (ä»… server)
tokio-tungstenite = "0.21"

# æ•°æ®åº“ (ä»… server)
sqlx = { version = "0.7", features = ["runtime-tokio", "postgres", "uuid"] }

# æ—¶é—´
chrono = { version = "0.4", features = ["serde"] }

# WASM ç»‘å®š (ä»… wasm)
wasm-bindgen = "0.2"
wasm-bindgen-futures = "0.4"
console_error_panic_hook = "0.1"
js-sys = "0.3"
web-sys = "0.3"

# Workspace çº§åˆ«é…ç½®
[profile.release]
lto = true
opt-level = 3

[profile.dev]
opt-level = 1
